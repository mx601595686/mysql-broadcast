"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const _ = require("lodash");
class RequestData {
    constructor(body) {
        this.changes = [];
        this.table = body.table;
        this.triggerType = body.type;
        this.oldData = body.old;
        this.newData = body.new;
        _.forEach(this.oldData, (item, key) => {
            if (item !== this.newData[key])
                this.changes.push(key);
        });
    }
}
exports.RequestData = RequestData;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRiQ2hhbmdlTGlzdGVuZXIvUmVxdWVzdERhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw0QkFBNkI7QUFrQjdCO0lBT0ksWUFBWSxJQUFTO1FBRlosWUFBTyxHQUFhLEVBQUUsQ0FBQztRQUc1QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFHeEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEdBQVc7WUFDdEMsRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFBO0lBaUJOLENBQUM7Q0FDSjtBQW5DRCxrQ0FtQ0MiLCJmaWxlIjoiRGJDaGFuZ2VMaXN0ZW5lci9SZXF1ZXN0RGF0YS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbi8qKlxuICog5pWw5o2u5pS55Y+Y55qE57G75Z6LXG4gKiBcbiAqIEBleHBvcnRcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFRyaWdnZXJUeXBlIHtcbiAgICB1cGRhdGUsIGluc2VydCwgZGVsZXRlXG59XG5cbi8qKlxuICog5pWw5o2u5bqT5Y+R6YCB6K+35rGC55qE5qC85byPXG4gKiBcbiAqIEBleHBvcnRcbiAqIEBjbGFzcyBSZXF1ZXN0RGF0YVxuICovXG5leHBvcnQgY2xhc3MgUmVxdWVzdERhdGEge1xuICAgIHJlYWRvbmx5IHRhYmxlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdHJpZ2dlclR5cGU6IFRyaWdnZXJUeXBlO1xuICAgIHJlYWRvbmx5IG9sZERhdGE6IGFueTtcbiAgICByZWFkb25seSBuZXdEYXRhOiBhbnk7XG4gICAgcmVhZG9ubHkgY2hhbmdlczogc3RyaW5nW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKGJvZHk6IGFueSkge1xuICAgICAgICB0aGlzLnRhYmxlID0gYm9keS50YWJsZTtcbiAgICAgICAgdGhpcy50cmlnZ2VyVHlwZSA9IGJvZHkudHlwZTtcbiAgICAgICAgdGhpcy5vbGREYXRhID0gYm9keS5vbGQ7XG4gICAgICAgIHRoaXMubmV3RGF0YSA9IGJvZHkubmV3O1xuXG4gICAgICAgIC8v5a+55q+U5paw5pen5pWw5o2u55qE5beu5byCXG4gICAgICAgIF8uZm9yRWFjaCh0aGlzLm9sZERhdGEsIChpdGVtLCBrZXk6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0gIT09IHRoaXMubmV3RGF0YVtrZXldKVxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlcy5wdXNoKGtleSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLyogLy/lr7nmr5TmlrDml6fmlbDmja7nmoTlt67lvIJcbiAgICAgICAgbGV0IGxvbmc6IGFueSwgc2hvcnQ6IGFueTtcblxuICAgICAgICAvL+aJvuWHuui+g+mVv+aVsOaNrueahOmCo+e7hFxuICAgICAgICBpZiAoXy5zaXplKHRoaXMub2xkRGF0YSkgPiBfLnNpemUodGhpcy5uZXdEYXRhKSkge1xuICAgICAgICAgICAgbG9uZyA9IHRoaXMub2xkRGF0YTtcbiAgICAgICAgICAgIHNob3J0ID0gdGhpcy5uZXdEYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9uZyA9IHRoaXMubmV3RGF0YTtcbiAgICAgICAgICAgIHNob3J0ID0gdGhpcy5vbGREYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5mb3JFYWNoKGxvbmcsIChpdGVtLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChzaG9ydFtrZXldICE9PSBpdGVtKVxuICAgICAgICB9KTsgKi9cbiAgICB9XG59Il19
